### 洛书本地接口-1.0-LTS
 _**Losu Native Interface**_ 

#### 说明
 _**洛书本地接口，Losu Native Interface**_ ，是一套用于与洛书实现交互的接口标准。

通过LNI，可以方便地拓展洛书的各种功能，实现多用途能力

#### 洛书运行时接口
 _**Losu Vm Interface**_ 

洛书运行时的原生接口，可以与解释器无缝相接，通过格式化的数据类型，实现参数传递与结果返回，推荐使用C++编写。
#### 接口函数规范

```
extern "C"
{
    string function(//const char* val_n……)
    {
        //最多16个参数，const char*形式
    }
}
```
#### 文件规范
编译为动态库后，以 losuvm_*.lsd 存在于LS_ROOT/lvm 目录下
#### 调用方法
C++代码

```
//文件 losuvm_test.cpp
extern "C"
{
    string function(const char* val1,const char* val2)
    {
        return to_string(atoi(val1)-atoi(val2));
    }
    //更多函数
}  
```
洛书代码

```
+类 类一
{
    +方法 方法一(参数1,参数2)
    {
        +指令
        {
            add [此类].方法一.参数2 add [此类].方法一.参数1 lvm test function
            mov [此类].方法一
        }
    }
}
```

#### 洛书标准接口
 _**Losu Standard Interface**_ 

洛书运行时的标准接口，相当于用户个性化的Vm支持库，推荐使用C++进行编写
#### 接口函数规范

```
extern "C"
{
    string function(//const char* val_n……)
    {
        //最多16个参数，const char*形式
    }
}
```
#### 文件规范
编译为动态库后，以 losusi_*.lsd 存在于LS_ROOT/lsi 目录下
#### 调用方法
C++代码

```
//文件 losusi_test.cpp
extern "C"
{
    string function(const char* val1,const char* val2)
    {
        return to_string(atoi(val1)-atoi(val2));
    }
    //更多函数
}  
```
洛书代码

```
+类 类一
{
    +方法 方法一(参数1,参数2)
    {
        +指令
        {
            add [此类].方法一.参数2 add [此类].方法一.参数1 lsi test function
            mov [此类].方法一
        }
    }
}
```

#### 洛书拓展接口
 _**Losu Expand Interface**_ 

洛书运行时的拓展接口，用于编写随 洛书程序 分发的支持库

可以使用 C、C++、FreeBasic、Python等多种语言编写。


#### 接口函数规范(C++格式)

```
extern "C"
{
    const char* function(//const char* val_n……)
    {
        //最多16个参数，const char*形式
    }
}
```
#### 文件规范
编译为动态库后，置于 洛书程序 所在目录(解释器工作目录)下
#### 调用方法
C++代码

```
//文件 expand.cpp
//编译为 expand.lsd
extern "C"
{
    const char* function(const char* val1,const char* val2)
    {
        return to_string(atoi(val1)-atoi(val2)).c_str();
    }
    //更多函数
}  
```
洛书代码

```
+类 类一
{
    +方法 方法一(参数1,参数2)
    {
        +指令
        {
            add [此类].方法一.参数2 add [此类].方法一.参数1 lei ./expand.lsd function
            mov [此类].方法一
        }
    }
}
```

